<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<!--<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">-->
	<title>WebGL Logic Simulator</title>
	<script type="text/javascript" src="app.js"></script>
	<script type="text/javascript" src="Gui.js"></script>
	<style>
		canvas {
			position: absolute;
			top: 0;
			left: 0;
		}

		.resSelect {
			width: 800px;
		}
	</style>
</head>

<body id="body" style="padding: 0px; margin: 0px; background-color: rgb(41, 41, 41)">
	<img src="resources/ASCII2.webp" id="ASCII_img" hidden />

	<div id="IntroScreen" style="color: white; padding: 10px; font-size: 25px">
		<h1>WebGL Logic Circuit Simulator</h1>

		<form id="startBtn"
			oninput="simResShowX.value=parseInt(simResSelX.value); simResShowY.value=parseInt(simResSelY.value);">
			<p>
				Choose a resolution. The higher the resolution, the slower it will
				run!
			</p>
			<table>
				<tr>
					<td>
						<b>Horizontal resolution</b>
					</td>
					<td>
						<input type="range" min="100" max="3000" value="100" step="10" id="simResSelX"
							class="resSelect" />
						<output name="simResShowX">300</output>
					</td>
				</tr>
				<tr>
					<td>
						<b>Vertical resolution</b>
					</td>
					<td>
						<input type="range" min="100" max="3000" value="100" step="2" id="simResSelY"
							class="resSelect" />
						<output name="simResShowY">300</output>
					</td>
				</tr>
			</table>
			<input type="button" value="Create New Simulation" onclick="loadData()" />
		</form>

		<p>
			<label for="fileInput">Load Save File:</label>
			<input type="file" id="fileInput" name="fileInput" accept=".logicsim" onchange="loadData()" />
		</p>
		<h3>Example Saves</h3>
		<p>
			<a style="color: white" href="/saves/ROM Adder 7 segment hex decoder and Binary to BCD.logicsim">Example
				save file</a>
		</p>


		<div id="help" style="margin: 15px">
			<h2>Controls</h2>
			<h3>Mouse</h3>
			<li>Middle mouse button to drag the simulation area arround</li>
			<li>
				Mouse wheel to zoom in and out, Or to change brush size while holding
				down B
			</li>
			<li>
				Left mouse button to use selected tool. Hold down Ctrl (command on
				mac) to perform the inverted action
			</li>
			<li>Touchscreen input is not supported yet</li>
			<h3>Keys</h3>
			<table style="width: 1000px">
				<tr>
					<td>1 - 2</td>
					<td>Display Modes</td>
				</tr>
				<tr>
					<td>Q - Y</td>
					<td>Set Cell Types</td>
				</tr>
				<tr>
					<td>~</td>
					<td>Select</td>
				</tr>
				<tr>
					<td>Arrows ◄ ▲ ▼ ►</td>
					<td>Move View</td>
				</tr>
				<tr>
					<td>+ -</td>
					<td>Zoom In / Out</td>
				</tr>
				<tr>
					<td>Space Bar</td>
					<td>Pause / Resume</td>
				</tr>
				<tr>
					<td>V</td>
					<td>Reset View</td>
				</tr>
			</table>

			<br />
			<i>By Niels Daemen</i>
		</div>
	</div>
	<canvas id="mainCanvas" style="
				position: fixed;
				user-select: none;
				-webkit-user-select: none;
				-moz-user-select: none;
				z-index: -2;
				display: none;
			">
		Your browser does not support HTML5, you must be using a really old
		browser!
	</canvas>
</body>

</html>